<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<!-- CSS -->
		<link rel="stylesheet" href="./css/bootstrap/bootstrap.min.css">
		<link rel="stylesheet" href="./css/all.min.css"/>
		<link rel="stylesheet" href="./css/bootstrap-icons/bootstrap-icons.css">
		<link rel="stylesheet" href="./css/tempusdominus/bootstrap4/tempusdominus-bootstrap-4.min.css"/>
		<link rel="stylesheet" href="./css/bootstrap-table/bootstrap-table.min.css"/>
		<link rel="stylesheet" href="./css/menu.css">
		<link rel="stylesheet" href="./css/zeusadmin.css">
		
		<title></title>
	</head>
	<body>
		<div class="body d-flex flex-column">
			<div id="header">
				<nav class="navbar navbar-expand-lg navbar-light bg-light justify-content-between">
					<a class="navbar-brand" href="#">
						<img src="images/enudge_headlogo.png"/>
					</a>
				
					<div class="d-flex align-items-center">
						<div class="text-primary">
							<i class="fas fa-user-circle"></i>
							<label><strong>user</strong></label>
						</div>
						<label class="mx-2">|</label>
						<a href="#">
							<i class="fas fa-sign-out-alt"></i>
							ログアウト
						</a>
				    </div>
				</nav>
			</div>
			<div class="content flex-grow-1 d-flex">
				<div class="menu">
					<nav class="nav flex-column ml-2 mt-2">
						<a class="nav-link active p-0" href="#">
							<div class="d-flex p-2 align-items-center">
								<i class="d-flex bi-file-earmark-spreadsheet"></i>
								<span class="text-nowrap">データ修復</span>
							</div>
						</a>
					</nav>
				</div>
				<div class="flex-grow-1 overflow-hidden p-2">
					<div class="card border-primary text-center">
						<div class="card-body p-0">
							<h5 class="card-title text-primary my-2">データ修復記録</h5>
							<table
							  id="table-data" class="table table-sm table-bordered">
							</table>
							
							<div class="my-2">
								<div class="btn-group btn-group-sm">
									<button type="button" id="btn-graph" class="btn btn-outline-primary" onclick="btnGraphClick();">修復開始</button>
									<button type="button" id="btn-graph" class="btn btn-outline-primary" onclick="btnGraphClick();">削除</button>
								</div>
							</div>
						</div>
					</div>
					
					<div class="card border-primary mt-3">
					  <div class="card-body">
						<form>
						  <div class="form-row">
							<div class="form-group col-md-6 col-xl-3">
							  <label class="text-info">粒度</label>
							  <div class="d-flex align-items-center">
								 <div class="form-check form-check-inline">
								   <input class="form-check-input" type="checkbox" name="displaySpan" id="displaySpan3" value="hour">
								   <label class="form-check-label" for="inlineRadio3">時</label>
								 </div>
								 <div class="form-check form-check-inline">
								   <input class="form-check-input" type="checkbox" name="displaySpan" id="displaySpan3" value="half-hour">
								   <label class="form-check-label" for="inlineRadio3">30分</label>
								 </div>
							  </div>
							</div>
							<div class="form-group col-md-6 col-xl-3">
							  <label class="text-info">エネルギーセンサー</label>
							  <div class="d-flex align-items-center">
								 <div class="form-check form-check-inline">
								   <input class="form-check-input" type="checkbox" name="dataType" id="displaySpan1" value="month">
								   <label class="form-check-label" for="inlineRadio1">電力量センサー</label>
								 </div>
							  </div>
							</div>
							<div class="form-group col-md-6 col-xl-3">
							  <label class="text-info">環境センサー</label>
							  <div class="d-flex align-items-center">
								 <div class="form-check form-check-inline">
								   <input class="form-check-input" type="checkbox" name="dataType" id="displaySpan1" value="month">
								   <label class="form-check-label" for="inlineRadio1">温度センサー</label>
								 </div>
								 <div class="form-check form-check-inline">
								   <input class="form-check-input" type="checkbox" name="dataType" id="displaySpan2" value="day">
								   <label class="form-check-label" for="inlineRadio2">温湿度センサー</label>
								 </div>
							  </div>
							</div>
							<div class="form-group col-md-6 col-xl-3">
							  <label class="text-info">制御解除率</label>
							  <div class="d-flex align-items-center">
								 <div class="form-check form-check-inline">
								   <input class="form-check-input" type="checkbox" name="dataType" id="displaySpan1" value="month">
								   <label class="form-check-label" for="inlineRadio1">制御解除率</label>
								 </div>
							  </div>
							</div>
							<div class="form-group col-12">
								<label class="text-info">対象期間</label>
								<div class="d-flex align-items-center">
									<div class="col-auto p-0">
										<div class="input-group input-group-sm date" id="datepicker-from" data-target-input="nearest">
											<input type="text" class="form-control datetimepicker-input" data-target="#datepicker-from"/>
											<div class="input-group-append" data-target="#datepicker-from" data-toggle="datetimepicker">
												<span class="input-group-text"><i class="fa fa-calendar"></i></span>
												<span class="input-group-text">から</span>
											</div>
										</div>
									</div>
									<div class="col-auto">
										<div class="input-group input-group-sm date" id="datepicker-to" data-target-input="nearest">
											<input type="text" class="form-control datetimepicker-input" data-target="#datepicker-to"/>
											<div class="input-group-append" data-target="#datepicker-to" data-toggle="datetimepicker">
												<span class="input-group-text"><i class="fa fa-calendar"></i></span>
												<span class="input-group-text">まで</span>
											</div>
										</div>
									</div>
								</div>
							</div>
						  </div>
						  <div class="form-row align-items-center justify-content-center">
								<button type="button" id="btn-graph" class="btn btn-sm btn-outline-primary m-1" onclick="btnGraphClick();">追加</button>
						  </div>
						</form>
					  </div>
					</div>
				
					<table
					  id="table-store"
					  class="mt-3">
					</table>
				</div>
			</div>
			<div id="footer">
				<nav class="navbar navbar-light bg-light border-0">
					<div>
						<strong>&copy; 2020 JIT Consulting Inc.</strong>
					</div>
				</nav>
			</div>
		</div>
		
		<!-- jQuery and JS bundle w/ Popper.js -->
		<script src="./js/jquery/jquery-3.5.1.min.js"></script>
		<script src="./js/bootstrap/bootstrap.bundle.min.js"></script>
		<!-- echarts -->
		<script src="./js/echarts/echarts.min.js"></script>
		<script src="./js/fontawesome/all.min.js"></script>
		<script src="./js/moment/moment-with-locales.min.js"></script>
		<script src="./js/tempusdominus/bootstrap4/tempusdominus-bootstrap-4.min.js"></script>
		<script src="./js/bootstrap-table/bootstrap-table.min.js"></script>
		<script src="./js/bootstrap-table/bootstrap-table-ja-JP.min.js"></script>
		<script src="js/zeusadmin.js"></script>
		<script type="text/javascript">
			function genStoreTableData(){
				var arr = [];
				for(var i = 1; i <= 10; i++){
					arr.push({storeId: i, storeName: '店舗' + i});
				}
				return arr;
			}
			
			var tableData = document.querySelector('#table-data');
			var tableStore = document.querySelector('#table-store');
			
			// initialization
			$('#datepicker-from').datetimepicker({
				locale: 'ja',
				format: 'YYYY-MM-DD',
				useCurrent: true
			});
			$('#datepicker-to').datetimepicker({
				locale: 'ja',
				format: 'YYYY-MM-DD',
				useCurrent: true
			});
			$('#datepicker-from').on('change.datetimepicker', function(e){
				$('#datepicker-to').datetimepicker('minDate', e.date);
			});
			$('#datepicker-to').on('change.datetimepicker', function(e){
				$('#datepicker-from').datetimepicker('maxDate', e.date);
			});
			$(tableData).bootstrapTable({
				height: 400,
				detailView: true,
				columns: [
					{checkbox: true},
					{field: 'status', title: '状態'},
					{field: 'registerDatetime', title: '登録時刻', 'class': 'text-nowrap'},
					{field: 'energySensorType', title: 'エネルギーセンサー'},
					{field: 'envSensorType', title: '環境センサー', 'class': 'text-nowrap'},
					{field: 'enudgeRelease', title: '制御解除率'},
					{field: 'granularity', title: '粒度'},
					{field: 'fromDate', title: '開始日', 'class': 'text-nowrap'},
					{field: 'toDate', title: '終了日', 'class': 'text-nowrap'},
					{field: 'startDatetime', title: '開始時刻', 'class': 'text-nowrap'},
					{field: 'endDatetime', title: '終了時刻', 'class': 'text-nowrap'}
				],
				data: [{
					status: '新規',
					registerDatetime: '2021-02-08 20:59:00',
					energySensorType: '電力量センサー',
					envSensorType: '温度センサー<br>温湿度センサー',
					enudgeRelease: '〇',
					granularity: '時<br>30分',
					fromDate: '2021-01-01',
					toDate: '2021-01-31',
					startDatetime: '2021-02-08 21:00:00',
					endDatetime: '2021-02-08 22:00:00'
				}]
			});
			$(tableStore).bootstrapTable({
				search: true,
				searchAlign: 'left',
				columns: [
					{checkbox: true},
					{field: 'storeName', title: '店舗名'}
				],
				data: genStoreTableData()
			});
		</script>
	</body>
</html>
